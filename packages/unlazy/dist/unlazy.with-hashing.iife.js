var UnLazy=function(C){var ut;"use strict";const yt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",tt=typeof window>"u",Et=!tt&&"loading"in HTMLImageElement.prototype,pt=!tt&&(!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent));function et(t,e=document){return typeof t=="string"?[...e.querySelectorAll(t)]:t instanceof Element?[t]:[...t]}function ht(t,e){let n,r;return t>=1?(n=e,r=Math.round(e/t)):(n=Math.round(e*t),r=e),{width:n,height:r}}function wt(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=typeof Buffer<"u"?Buffer.from(e,"base64"):Uint8Array.from(atob(e),r=>r.charCodeAt(0));return new Uint8Array(n)}function _t(t,e){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{n=void 0,t(...r)},e)}}function Lt(t){const{width:e}=t.getBoundingClientRect();return e>0?Promise.resolve():(console.log(1699880827882,"waiting for element dimensions",t),new Promise(n=>{const r=new ResizeObserver(()=>{const{width:o}=t.getBoundingClientRect();console.log(1699880844909,"element dimensions changed",{element:t,width:o}),o>0&&(r.disconnect(),console.log(1699880866850,"resolving waitForElementDimensions",t),n())});r.observe(t)}))}function gt(t){let{PI:e,min:n,max:r,cos:o,round:c}=Math,u=t[0]|t[1]<<8|t[2]<<16,s=t[3]|t[4]<<8,a=(u&63)/63,y=(u>>6&63)/31.5-1,d=(u>>12&63)/31.5-1,f=(u>>18&31)/31,l=u>>23,b=(s>>3&63)/63,T=(s>>9&63)/63,L=s>>15,P=r(3,L?l?5:7:s&7),p=r(3,L?s&7:l?5:7),g=l?(t[5]&15)/15:1,W=(t[5]>>4)/15,j=l?6:5,v=0,_=(U,w,H)=>{let B=[];for(let S=0;S<w;S++)for(let D=S?0:1;D*w<U*(w-S);D++)B.push(((t[j+(v>>1)]>>((v++&1)<<2)&15)/7.5-1)*H);return B},h=_(P,p,f),K=_(3,3,b*1.25),G=_(3,3,T*1.25),z=l&&_(5,5,W),$=vt(t),N=c($>1?32:32*$),Z=c($>1?32/$:32),x=new Uint8Array(N*Z*4),k=[],Y=[];for(let U=0,w=0;U<Z;U++)for(let H=0;H<N;H++,w+=4){let B=a,S=y,D=d,ft=g;for(let i=0,A=r(P,l?5:3);i<A;i++)k[i]=o(e/N*(H+.5)*i);for(let i=0,A=r(p,l?5:3);i<A;i++)Y[i]=o(e/Z*(U+.5)*i);for(let i=0,A=0;i<p;i++)for(let E=i?0:1,O=Y[i]*2;E*p<P*(p-i);E++,A++)B+=h[A]*k[E]*O;for(let i=0,A=0;i<3;i++)for(let E=i?0:1,O=Y[i]*2;E<3-i;E++,A++){let bt=k[E]*O;S+=K[A]*bt,D+=G[A]*bt}if(l)for(let i=0,A=0;i<5;i++)for(let E=i?0:1,O=Y[i]*2;E<5-i;E++,A++)ft+=z[A]*k[E]*O;let dt=B-2/3*S,At=(3*B-dt+D)/2,xt=At-D;x[w]=r(0,255*n(1,At)),x[w+1]=r(0,255*n(1,xt)),x[w+2]=r(0,255*n(1,dt)),x[w+3]=r(0,255*n(1,ft))}return{w:N,h:Z,rgba:x}}function vt(t){let e=t[3],n=t[2]&128,r=t[4]&128,o=r?n?5:7:e&7,c=r?e&7:n?5:7;return o/c}/**
 * Encodes an RGBA image to a PNG data URI. RGB should not be premultiplied by A.
 *
 * @remarks
 * This is optimized for speed and simplicity and does not optimize for size
 * at all. This doesn't do any compression (all values are stored uncompressed).
 *
 * @see https://github.com/evanw/thumbhash
 * @author Evan Wallace
 * @license MIT
 */function rt(t,e,n){const r=t*4+1,o=6+e*(5+r),c=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,t>>8,t&255,0,0,e>>8,e&255,8,6,0,0,0,0,0,0,0,o>>>24,o>>16&255,o>>8&255,o&255,73,68,65,84,120,1],u=[0,498536548,997073096,651767980,1994146192,1802195444,1303535960,1342533948,-306674912,-267414716,-690576408,-882789492,-1687895376,-2032938284,-1609899400,-1111625188];let s=1,a=0;for(let d=0,f=0,l=r-1;d<e;d++,l+=r-1)for(c.push(d+1<e?0:1,r&255,r>>8,~r&255,r>>8^255,0),a=(a+s)%65521;f<l;f++){const b=n[f]&255;c.push(b),s=(s+b)%65521,a=(a+s)%65521}c.push(a>>8,a&255,s>>8,s&255,0,0,0,0,0,0,0,0,73,69,78,68,174,66,96,130);for(let[d,f]of[[12,29],[37,41+o]]){let l=-1;for(let b=d;b<f;b++)l^=c[b],l=l>>>4^u[l&15],l=l>>>4^u[l&15];l=~l,c[f++]=l>>>24,c[f++]=l>>16&255,c[f++]=l>>8&255,c[f++]=l&255}return`data:image/png;base64,${typeof Buffer<"u"?Buffer.from(new Uint8Array(c)).toString("base64"):btoa(String.fromCharCode(...c))}`}function zt(t){const{w:e,h:n,rgba:r}=gt(wt(t));return rt(e,n,r)}const St="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~",M=(t,e,n)=>{let r=0;for(;e<n;)r*=83,r+=St.indexOf(t[e++]);return r},nt=Math.pow,R=Math.PI,Ct=R*2,ot=3294.6,st=269.025,Pt=t=>t>10.31475?nt(t/st+.052132,2.4):t/ot,Q=t=>~~(t>1227e-8?st*nt(t,.416666)-13.025:t*ot+1),I=t=>(t<0?-1:1)*t*t,ct=t=>{for(t+=R/2;t>R;)t-=Ct;const e=1.27323954*t-.405284735*I(t);return .225*(I(e)-e)+e};function Bt(t){const e=M(t,2,6);return[e>>16,e>>8&255,e&255]}function Dt(t,e,n,r){const o=M(t,0,1),c=o%9+1,u=~~(o/9)+1,s=c*u;let a=0,y=0,d=0,f=0,l=0,b=0,T=0,L=0,P=0,p=0,g=0,W=0,j=0,v=0;const _=(M(t,1,2)+1)/13446*(r|1),h=new Float64Array(s*3),K=Bt(t);for(a=0;a<3;a++)h[a]=Pt(K[a]);for(a=1;a<s;a++)v=M(t,4+a*2,6+a*2),h[a*3]=I(~~(v/361)-9)*_,h[a*3+1]=I(~~(v/19)%19-9)*_,h[a*3+2]=I(v%19-9)*_;const G=e*4,z=new Uint8ClampedArray(G*n);for(f=0;f<n;f++)for(W=R*f/n,d=0;d<e;d++){for(l=0,b=0,T=0,j=R*d/e,y=0;y<u;y++)for(P=ct(W*y),a=0;a<c;a++)L=ct(j*a)*P,p=(a+y*c)*3,l+=h[p]*L,b+=h[p+1]*L,T+=h[p+2]*L;g=4*d+f*G,z[g]=Q(l),z[g+1]=Q(b),z[g+2]=Q(T),z[g+3]=255}return z}function Rt(t,{ratio:e=1,size:n=32}={}){const{width:r,height:o}=ht(e,n),c=Dt(t,r,o);return rt(r,o,c)}function V(t='img[loading="lazy"]',{hash:e=!0,hashType:n="blurhash",placeholderSize:r=32,updateSizesOnResize:o=!1,onImageLoad:c}={}){const u=new Set;return et(t).map(async s=>{await Lt(s);const a=q(s,{updateOnResize:o});if(o&&a&&u.add(a),e){const d=It({image:s,hash:typeof e=="string"?e:void 0,hashType:n,size:r});d&&(s.src=d)}if(!s.dataset.src&&!s.dataset.srcset){console.error("[unlazy] Missing `data-src` or `data-srcset` attribute",s);return}if(pt||!Et){lt(s),J(s),X(s);return}if(s.src||(s.src=yt),s.complete&&s.naturalWidth>0){m(s,c);return}const y=()=>m(s,c);s.addEventListener("load",y,{once:!0}),u.add(()=>s.removeEventListener("load",y))}),()=>{for(const s of u)s();u.clear()}}function at(t='img[data-sizes="auto"], source[data-sizes="auto"]'){for(const e of et(t))q(e)}function m(t,e){const n=new Image,{srcset:r,src:o,sizes:c}=t.dataset;if(c==="auto"){const u=it(t);u&&(n.sizes=`${u}px`)}else t.sizes&&(n.sizes=t.sizes);r&&(n.srcset=r),o&&(n.src=o),n.addEventListener("load",()=>{lt(t),J(t),X(t),e==null||e(t)})}function It({image:t,hash:e,hashType:n="blurhash",size:r=32,ratio:o}={}){if(!e&&t){const{blurhash:c,thumbhash:u}=t.dataset;e=u||c,n=u?"thumbhash":"blurhash"}if(e)try{if(n==="thumbhash")return zt(e);if(!o&&t){const c=t.width||t.offsetWidth||r,u=t.height||t.offsetHeight||r;o=c/u}return Rt(e,{ratio:o,size:r})}catch(c){console.error(`Error generating ${n} placeholder:`,c)}}const F=new WeakMap;function q(t,e){var r;if(t.dataset.sizes!=="auto")return;const n=it(t);if(n&&(t.sizes=`${n}px`),((r=t.parentElement)==null?void 0:r.tagName.toLowerCase())==="picture"&&!(e!=null&&e.skipChildren)&&[...t.parentElement.getElementsByTagName("source")].forEach(o=>q(o,{skipChildren:!0})),e!=null&&e.updateOnResize){if(!F.has(t)){const o=_t(()=>q(t),500),c=new ResizeObserver(o);F.set(t,c),c.observe(t)}return()=>{const o=F.get(t);o&&(o.disconnect(),F.delete(t))}}}function X(t){t.dataset.src&&(t.src=t.dataset.src,t.removeAttribute("data-src"))}function J(t){t.dataset.srcset&&(t.srcset=t.dataset.srcset,t.removeAttribute("data-srcset"))}function lt(t){const e=t.parentElement;(e==null?void 0:e.tagName.toLowerCase())==="picture"&&([...e.querySelectorAll("source[data-srcset]")].forEach(J),[...e.querySelectorAll("source[data-src]")].forEach(X))}function it(t){var e,n;return t instanceof HTMLSourceElement?(n=(e=t.parentElement)==null?void 0:e.getElementsByTagName("img")[0])==null?void 0:n.offsetWidth:t.offsetWidth}const Tt=Object.freeze({autoSizes:at,lazyLoad:V,loadImage:m});return(ut=document.currentScript)!=null&&ut.hasAttribute("init")&&V(),C.autoSizes=at,C.default=Tt,C.lazyLoad=V,C.loadImage=m,Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),C}({});
