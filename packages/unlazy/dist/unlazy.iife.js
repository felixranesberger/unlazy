var UnLazy=function(i){var b;"use strict";const w="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",h=typeof window>"u",R=!h&&"loading"in HTMLImageElement.prototype,T=!h&&(!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent));function z(t,e=document){return typeof t=="string"?[...e.querySelectorAll(t)]:t instanceof Element?[t]:[...t]}function C(t,e){let s;return function(...c){s&&clearTimeout(s),s=setTimeout(()=>{s=void 0,t(...c)},e)}}function l(t='img[loading="lazy"]',{hash:e=!0,hashType:s="blurhash",placeholderSize:c=32,updateSizesOnResize:n=!1,onImageLoad:o}={}){const a=new Set;return z(t).map(async r=>{const L=f(r,{updateOnResize:n});if(n&&L&&a.add(L),!r.dataset.src&&!r.dataset.srcset){console.error("[unlazy] Missing `data-src` or `data-srcset` attribute",r);return}if(T||!R){S(r),E(r),A(r);return}if(r.src||(r.src=w),r.complete&&r.naturalWidth>0){console.log(1699882775467,"image already in viewport",{complete:r.complete,naturalWidth:r.naturalWidth,boundingWidth:r.getBoundingClientRect().width}),u(r,o);return}const v=()=>u(r,o);r.addEventListener("load",v,{once:!0}),a.add(()=>r.removeEventListener("load",v))}),()=>{for(const r of a)r();a.clear()}}function y(t='img[data-sizes="auto"], source[data-sizes="auto"]'){for(const e of z(t))f(e)}function u(t,e){const s=new Image,{srcset:c,src:n,sizes:o}=t.dataset;if(o==="auto"){const a=p(t);a&&(s.sizes=`${a}px`)}else t.sizes&&(s.sizes=t.sizes);c&&(s.srcset=c),n&&(s.src=n),s.addEventListener("load",()=>{S(t),E(t),A(t),e==null||e(t)})}const d=new WeakMap;function f(t,e){var c;if(t.dataset.sizes!=="auto")return;const s=p(t);if(s&&(t.sizes=`${s}px`),((c=t.parentElement)==null?void 0:c.tagName.toLowerCase())==="picture"&&!(e!=null&&e.skipChildren)&&[...t.parentElement.getElementsByTagName("source")].forEach(n=>f(n,{skipChildren:!0})),e!=null&&e.updateOnResize){if(!d.has(t)){const n=C(()=>f(t),500),o=new ResizeObserver(n);d.set(t,o),o.observe(t)}return()=>{const n=d.get(t);n&&(n.disconnect(),d.delete(t))}}}function A(t){t.dataset.src&&(t.src=t.dataset.src,t.removeAttribute("data-src"))}function E(t){t.dataset.srcset&&(t.srcset=t.dataset.srcset,t.removeAttribute("data-srcset"))}function S(t){const e=t.parentElement;(e==null?void 0:e.tagName.toLowerCase())==="picture"&&([...e.querySelectorAll("source[data-srcset]")].forEach(E),[...e.querySelectorAll("source[data-src]")].forEach(A))}function p(t){var e,s;return t instanceof HTMLSourceElement?(s=(e=t.parentElement)==null?void 0:e.getElementsByTagName("img")[0])==null?void 0:s.offsetWidth:t.offsetWidth}const O=Object.freeze({autoSizes:y,lazyLoad:l,loadImage:u});return(b=document.currentScript)!=null&&b.hasAttribute("init")&&l(),i.autoSizes=y,i.default=O,i.lazyLoad=l,i.loadImage=u,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),i}({});
